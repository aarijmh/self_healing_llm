<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SecureBank AI Agent - Live Demo</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
		
		* {
			font-family: 'Inter', sans-serif;
		}
		
		.gradient-bg {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		}
		
		.step-card {
			transition: all 0.3s ease;
			border-left: 4px solid transparent;
		}
		
		.step-card.active {
			border-left-color: #667eea;
			background-color: #f0f4ff;
		}
		
		.step-card.completed {
			border-left-color: #10b981;
			background-color: #f0fdf4;
		}
		
		.step-card.failed {
			border-left-color: #ef4444;
			background-color: #fef2f2;
		}
		
		.pulse-animation {
			animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
		}
		
		@keyframes pulse {
			0%, 100% {
				opacity: 1;
			}
			50% {
				opacity: .5;
			}
		}
		
		.slide-in {
			animation: slideIn 0.5s ease-out;
		}
		
		@keyframes slideIn {
			from {
				transform: translateX(-100%);
				opacity: 0;
			}
			to {
				transform: translateX(0);
				opacity: 1;
			}
		}
		
		.entity-box {
			transition: all 0.3s ease;
		}
		
		.entity-box.active {
			transform: scale(1.05);
			box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
		}
		
		.product-card {
			transition: all 0.3s ease;
		}
		
		.product-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
		}
	</style>
</head>
<body class="bg-gray-50">
	<!-- Header -->
	<header class="gradient-bg text-white shadow-lg">
		<div class="container mx-auto px-6 py-6">
			<div class="flex items-center justify-between">
				<div class="flex items-center space-x-4">
					<i class="fas fa-shield-alt text-4xl"></i>
					<div>
						<h1 class="text-3xl font-bold">SecureBank AI Agent</h1>
						<p class="text-purple-200">Live Demonstration - Complete Purchase Flow</p>
					</div>
				</div>
				<div class="text-right">
					<div class="text-sm text-purple-200">Account Balance</div>
					<div class="text-2xl font-bold" id="balance">$15,000.00</div>
				</div>
			</div>
		</div>
	</header>

	<!-- Main Content -->
	<div class="container mx-auto px-6 py-8">
		<!-- Control Panel -->
		<div class="bg-white rounded-lg shadow-lg p-6 mb-8">
			<h2 class="text-2xl font-bold mb-6 text-gray-800">
				<i class="fas fa-play-circle text-purple-600"></i> Demo Control Panel
			</h2>
			
			<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
				<button onclick="runSetup()" 
					class="bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-4 rounded-lg font-semibold hover:from-blue-600 hover:to-blue-700 transition-all shadow-md hover:shadow-lg">
					<i class="fas fa-download mr-2"></i> 1. Setup & Registration
				</button>
				
				<button onclick="runDelegation()" 
					class="bg-gradient-to-r from-indigo-500 to-indigo-600 text-white px-6 py-4 rounded-lg font-semibold hover:from-indigo-600 hover:to-indigo-700 transition-all shadow-md hover:shadow-lg">
					<i class="fas fa-user-shield mr-2"></i> 2. Delegate Authority
				</button>
				
				<button onclick="runPurchase()" 
					class="bg-gradient-to-r from-purple-500 to-purple-600 text-white px-6 py-4 rounded-lg font-semibold hover:from-purple-600 hover:to-purple-700 transition-all shadow-md hover:shadow-lg">
					<i class="fas fa-shopping-cart mr-2"></i> 3. Execute Purchase
				</button>
			</div>
			
			<div class="mt-4 flex items-center justify-center space-x-4">
				<button onclick="runCompleteDemo()" 
					class="bg-gradient-to-r from-green-500 to-green-600 text-white px-8 py-4 rounded-lg font-bold text-lg hover:from-green-600 hover:to-green-700 transition-all shadow-lg hover:shadow-xl">
					<i class="fas fa-rocket mr-2"></i> Run Complete Demo
				</button>
				
				<button onclick="resetDemo()" 
					class="bg-gray-500 text-white px-6 py-4 rounded-lg font-semibold hover:bg-gray-600 transition-all">
					<i class="fas fa-redo mr-2"></i> Reset
				</button>
			</div>
		</div>

		<!-- Entity Status Dashboard -->
		<div class="bg-white rounded-lg shadow-lg p-6 mb-8">
			<h2 class="text-2xl font-bold mb-6 text-gray-800">
				<i class="fas fa-network-wired text-purple-600"></i> System Entities
			</h2>
			
			<div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
				<div class="entity-box bg-blue-50 p-4 rounded-lg text-center" id="entity-callsign">
					<i class="fas fa-fingerprint text-3xl text-blue-600 mb-2"></i>
					<div class="font-semibold text-sm">CallSign</div>
					<div class="text-xs text-gray-600">Auth</div>
				</div>
				
				<div class="entity-box bg-purple-50 p-4 rounded-lg text-center" id="entity-bankmcp">
					<i class="fas fa-server text-3xl text-purple-600 mb-2"></i>
					<div class="font-semibold text-sm">Bank MCP</div>
					<div class="text-xs text-gray-600">Server</div>
				</div>
				
				<div class="entity-box bg-green-50 p-4 rounded-lg text-center" id="entity-hsm">
					<i class="fas fa-lock text-3xl text-green-600 mb-2"></i>
					<div class="font-semibold text-sm">HSM</div>
					<div class="text-xs text-gray-600">Security</div>
				</div>
				
				<div class="entity-box bg-yellow-50 p-4 rounded-lg text-center" id="entity-bank">
					<i class="fas fa-university text-3xl text-yellow-600 mb-2"></i>
					<div class="font-semibold text-sm">Bank Core</div>
					<div class="text-xs text-gray-600">System</div>
				</div>
				
				<div class="entity-box bg-orange-50 p-4 rounded-lg text-center" id="entity-amazon">
					<i class="fab fa-amazon text-3xl text-orange-600 mb-2"></i>
					<div class="font-semibold text-sm">Amazon</div>
					<div class="text-xs text-gray-600">MCP</div>
				</div>
				
				<div class="entity-box bg-red-50 p-4 rounded-lg text-center" id="entity-payment">
					<i class="fab fa-google text-3xl text-red-600 mb-2"></i>
					<div class="font-semibold text-sm">Payment</div>
					<div class="text-xs text-gray-600">Protocol</div>
				</div>
			</div>
		</div>

		<!-- Two Column Layout -->
		<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
			<!-- Process Flow -->
			<div class="bg-white rounded-lg shadow-lg p-6">
				<h2 class="text-2xl font-bold mb-6 text-gray-800">
					<i class="fas fa-list-check text-purple-600"></i> Process Flow
				</h2>
				
				<div id="process-steps" class="space-y-3 max-h-[600px] overflow-y-auto">
					<!-- Steps will be dynamically added here -->
				</div>
			</div>

			<!-- Results & Data -->
			<div class="bg-white rounded-lg shadow-lg p-6">
				<h2 class="text-2xl font-bold mb-6 text-gray-800">
					<i class="fas fa-chart-line text-purple-600"></i> Live Results
				</h2>
				
				<div id="results-panel" class="space-y-4 max-h-[600px] overflow-y-auto">
					<div class="text-center text-gray-400 py-12">
						<i class="fas fa-info-circle text-5xl mb-4"></i>
						<p>Start a demo to see live results</p>
					</div>
				</div>
			</div>
		</div>

		<!-- Products Display -->
		<div id="products-section" class="bg-white rounded-lg shadow-lg p-6 mt-8 hidden">
			<h2 class="text-2xl font-bold mb-6 text-gray-800">
				<i class="fas fa-shopping-bag text-purple-600"></i> Product Search Results
			</h2>
			
			<div id="products-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6">
				<!-- Products will be dynamically added here -->
			</div>
		</div>

		<!-- Transaction Summary -->
		<div id="transaction-summary" class="bg-gradient-to-r from-green-500 to-green-600 rounded-lg shadow-lg p-8 mt-8 text-white hidden">
			<div class="text-center">
				<i class="fas fa-check-circle text-6xl mb-4"></i>
				<h2 class="text-3xl font-bold mb-4">Purchase Completed Successfully!</h2>
				<div id="summary-details" class="text-lg">
					<!-- Summary details will be added here -->
				</div>
			</div>
		</div>
	</div>

	<!-- Footer -->
	<footer class="bg-gray-800 text-white py-6 mt-12">
		<div class="container mx-auto px-6 text-center">
			<p class="text-gray-400">
				<i class="fas fa-shield-alt"></i> SecureBank AI Agent Demo - 
				Powered by MCP Architecture with Multi-Entity Authentication
			</p>
		</div>
	</footer>

	<script src="app.js"></script>
</body>
</html>
